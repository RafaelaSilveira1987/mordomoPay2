<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - MordomoPay</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <div class="logo-box"><img src="images/logo.png" alt="Logo" style="width: 100%; height: 100%; object-fit: contain;"></div>
                    <div class="logo-text">
                        <h1>MordomoPay</h1>
                        <p>GestÃ£o CristÃ£</p>
                    </div>
                    <button id="close-menu" class="btn btn-ghost md-hidden" style="margin-left: auto;">âœ•</button>
                </div>
            </div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-item active"><span>ğŸ“Š</span> Dashboard</a>
                <a href="transactions.html" class="nav-item"><span>ğŸ’³</span> TransaÃ§Ãµes</a>
                <a href="goals.html" class="nav-item"><span>ğŸ¯</span> Metas</a>
                <a href="tithe.html" class="nav-item"><span>ğŸ™</span> DÃ­zimos</a>
                <a href="tips.html" class="nav-item"><span>ğŸ’¡</span> Dicas</a>
                <a href="achievements.html" class="nav-item"><span>ğŸ†</span> Conquistas</a>
                <a href="reports.html" class="nav-item"><span>ğŸ“ˆ</span> RelatÃ³rios</a>
                <a href="#" class="nav-item" id="logout-btn" style="margin-top: auto; color: #ef4444;"><span>ğŸšª</span> Sair</a>
            </nav>
            <div class="sidebar-footer">
                <p>"O que o sÃ¡bio acumula com a mÃ£o Ã© melhor que o que o tolo desperdiÃ§a."</p>
                <span style="font-size: 0.7rem; color: #71717a;">ProvÃ©rbios 10:14</span>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <div class="header-left">
                    <button id="menu-toggle" class="btn btn-ghost md-hidden" style="font-size: 1.5rem;">â˜°</button>
                    <h2 class="md-visible">Bem-vindo ao MordomoPay</h2>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <p class="user-name" id="user-display-name">UsuÃ¡rio</p>
                        <div style="display: flex; align-items: center; gap: 0.5rem; justify-content: flex-end;">
                            <p class="user-status" id="user-status-display">Aprendiz de Mordomo</p>
                            <div class="progress-container" style="width: 80px; height: 6px;">
                                <div class="progress-bar" id="level-progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="user-avatar">U</div>
                </div>
            </header>

            <div class="content-area">
                <!-- Hero Card -->
                <div class="card" style="background-color: var(--primary); color: white; padding: 2rem; margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center; border: none;">
                    <div>
                        <h2 class="serif" style="font-size: 2rem; margin-bottom: 0.5rem;">Bem-vindo de volta!</h2>
                        <p style="opacity: 0.9; margin-bottom: 1.5rem;">Seu progresso financeiro este mÃªs estÃ¡ excelente. Continue assim!</p>
                        <div style="display: flex; gap: 2rem;">
                            <div><p style="font-size: 0.8rem; opacity: 0.8;">Receitas</p><p style="font-size: 1.5rem; font-weight: bold;" id="hero-income">R$ 0,00</p></div>
                            <div><p style="font-size: 0.8rem; opacity: 0.8;">Despesas</p><p style="font-size: 1.5rem; font-weight: bold;" id="hero-expense">R$ 0,00</p></div>
                            <div><p style="font-size: 0.8rem; opacity: 0.8;">Saldo</p><p style="font-size: 1.5rem; font-weight: bold;" id="hero-balance">R$ 0,00</p></div>
                        </div>
                    </div>
                    <div class="md-visible"><img src="images/hero-financial-growth.png" alt="Crescimento" style="width: 150px; border-radius: 12px;"></div>
                </div>

                <div class="grid-3">
                    <div class="card">
                        <div class="flex-between mb-4"><h3>SaÃºde Financeira</h3><span>â¤ï¸</span></div>
                        <p class="serif" style="font-size: 2rem; font-weight: bold;" id="health-percentage">0%</p>
                        <div class="progress-container"><div class="progress-bar" id="health-bar" style="width: 0%"></div></div>
                        <p style="font-size: 0.75rem; color: #71717a;">Excelente! VocÃª estÃ¡ no caminho certo.</p>
                    </div>
                    <div class="card">
                        <div class="flex-between mb-4"><h3>Economia do MÃªs</h3><span>ğŸ“ˆ</span></div>
                        <p class="serif" style="font-size: 2rem; font-weight: bold;" id="month-savings">R$ 0,00</p>
                        <p style="font-size: 0.75rem; color: #71717a; margin-top: 1rem;">+12% comparado ao mÃªs anterior</p>
                    </div>
                    <div class="card">
                        <div class="flex-between mb-4"><h3>Metas Ativas</h3><span>ğŸ¯</span></div>
                        <p class="serif" style="font-size: 2rem; font-weight: bold;" id="active-goals-count">0</p>
                        <p style="font-size: 0.75rem; color: #71717a; margin-top: 1rem;" id="goals-summary">Nenhuma meta alcanÃ§ada ainda.</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem;">
                    <div class="card">
                        <h3 class="serif mb-4">Metas Financeiras</h3>
                        <div id="goals-list-mini"></div>
                    </div>
                    <div class="card">
                        <h3 class="serif mb-4">Conquistas</h3>
                        <div id="achievements-list"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
